var ChannelController=["$scope","$dialog","Channel",function(n,t,i){var r;return n.loading=!0,n.entity={},r=function(){return i.query(function(t){return n.list=t,n.loading=!1})},n.add=function(){return n.entity={},n.editDialog=!0},n.edit=function(t){return n.entity=angular.copy(t),n.editDialog=!0},n.save=function(){return n.entity.ChannelId?i.edit({id:"(guid'"+n.entity.ChannelId+"')"},n.entity,function(){return message.success("Edit channel successfully."),n.close(),r()}):(n.entity.ChannelId=UUID.generate(),i.save(n.entity,function(){return message.success("Add channel successfully."),n.close(),r()}))},n.remove=function(n){return message.confirm(function(){return n.IsDeleted=!0,i.edit({id:"(guid'"+n.ChannelId+"')"},n,function(){return message.success("Delete channel successfully."),r()})})},n.close=function(){return n.editDialog=!1},r()}]